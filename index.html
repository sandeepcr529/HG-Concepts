<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Mercurial : A beginners guide to concepts and workflows" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Mercurial</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/sandeepcr529/HG-Concepts">View on GitHub</a>

          <h1 id="project_title">Mercurial</h1>
          <h2 id="project_tagline">A beginners guide to concepts and workflows</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/sandeepcr529/HG-Concepts/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/sandeepcr529/HG-Concepts/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>Concepts</h1>

<h3>Version Control Systems</h3>

<p>A version control system is an essential part of software development. Starting a project with out some kind of version control is similar to venturing deep into a thick forest with no way to find your way back. It gives context for your code. Every line of code you write will ultimately become part of a single commit with a clear purpose. </p>

<p>Any version control system will have three main entities. The tracked files, the working directory and the repository.</p>

<h3>The Tracked Files</h3>

<p>A code version system is a system to manage the source code of your project. But your project will almost always contains files that are not code/text. This includes binary files like images, videos, user uploaded files. There will be log files that does not make much sense to be version controlled. These files can be excluded from version control. So you have a set of files that you want to be 
version controlled or 'tracked' by mercurial, and you have a set of files that you don't want it to track.</p>

<p>When a new mercurial repository is created, there will be no tracked files initially. You have to manually add all files that are to be tracked. This is done by a command, <code>hg add</code>, which we will see in detail later.</p>

<h3>The Working Directory</h3>

<p>The working directory is the directory that hold all the files of your project, tracked or not. </p>

<h3>The Repository or Repo</h3>

<p>A mercurial repository takes the form of a directory named .hg in the root of your working directory. 
You create a mercurial repository for your project by running the command from the root of your project folder.</p>

<p><code>hg init</code></p>

<p>This creates the .hg directory. For all intents and purposes, this IS the repository. After a while it will contain all the history of your project(tracked files) from the beginning of time. You can copy this directory to a different location and you will have a repository there.</p>

<h3>The Changeset or Revision</h3>

<p>A revision is added to the history when you do a commit operation. <strong>When you do a commit operation, the state of all tracked files are recorded and stored in the newly created revision.</strong> </p>

<p>In mercurial, the history of a project is recorded as a series of such revisions. A revision  can be identified by a <code>changeset id</code> or <code>revision number</code>. A changeset id is hash like 'ad78e3810360', but a revision number is a simple number like 100. The revision number of first commit will be 0, then next one will be 1 and so on. You can refer to a revision by using its changeset id or revision number. It is easier to refer to a revision using its revision number, but in some situtations you will need the changeset id to uniquely identify the revision. We will come to this later. </p>

<h3>The Parent</h3>

<p><strong>When you update the working directory to a revision</strong> <code>x</code>, <strong>all the tracked files will be updated to the exact same state they were, when the commit</strong> <code>x</code> <strong>was made. At this point, we say that the working directory is based on the revision</strong> <code>x</code>. <strong>In other words, revision</strong> <code>x</code> <strong>is the parent of working directory.</strong></p>

<p>This also happens when you make a commit. Suppose the current parent of the working directory is <code>x</code>. Suppose you edit some files and did a commit and the new resulting revision be <code>y</code>. Then <code>y</code> will be added to the history as a child of <code>x</code>. And the current parent of working directory will be set to <code>y</code>.</p>

<h3>Summary</h3>

<ul>
<li>Mercurial repository consist of a .hg directory in the root folder of the project</li>
<li>History is recorded as a series of revisions in the .hg folder.</li>
<li>At any point, the working directory can contain only the contents of a single revision. This revision is called the <strong>parent</strong> of the working directory.</li>
<li>When you make a commit, you add a new revision as a child to the parent of the working directory. After this, the newly created revision is set as the parent of the working directory.</li>
<li>When you update to a revision <code>x</code>, the contents of the working directory are set to the state when that revision <code>x</code> was made and parent of the working directory is set as <code>x</code>
</li>
</ul>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Mercurial maintained by <a href="https://github.com/sandeepcr529">sandeepcr529</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
